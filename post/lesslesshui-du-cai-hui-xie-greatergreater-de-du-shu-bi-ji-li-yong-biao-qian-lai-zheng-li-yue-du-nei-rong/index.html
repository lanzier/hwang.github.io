<html lang="en">

<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta http-equiv="X-UA-Compatible" content="ie=edge">
<title>《会读才会写》的读书笔记——利用标签来整理阅读内容 - Hwang&#39;s Blog</title>
<link rel="shortcut icon" href="https://hwang.top/favicon.ico">
<link href="https://cdn.jsdelivr.net/npm/remixicon@2.2.0/fonts/remixicon.css" rel="stylesheet">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/animate.css@3.7.2/animate.min.css">
<link rel="stylesheet" href="https://hwang.top/media/css/tailwind.css">
<link rel="stylesheet" href="https://hwang.top/styles/main.css">
<link rel="alternate" type="application/atom+xml" title="《会读才会写》的读书笔记——利用标签来整理阅读内容 - Hwang&#39;s Blog - Atom Feed" href="https://hwang.top/atom.xml">


  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-159350557-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
  
    gtag('config', 'UA-159350557-1');
  </script>
    

  <meta name="description" content="
本文以及发布于少数派：https://beta.sspai.com/post/45883

引子
社会科学的写作，一直都有相对固定的「范式」。彭玉生在《“洋八股”与社会科学规范》中将其划分为：问题、文献、假设、测量、数据、方法、分析、结论..." />
  <meta property="og:title" content="《会读才会写》的读书笔记——利用标签来整理阅读内容 - Hwang&#39;s Blog">
  <meta property="og:description" content="
本文以及发布于少数派：https://beta.sspai.com/post/45883

引子
社会科学的写作，一直都有相对固定的「范式」。彭玉生在《“洋八股”与社会科学规范》中将其划分为：问题、文献、假设、测量、数据、方法、分析、结论..." />
  <meta property="og:type" content="articles">
  <meta property="og:url" content="https://hwang.top/post/lesslesshui-du-cai-hui-xie-greatergreater-de-du-shu-bi-ji-li-yong-biao-qian-lai-zheng-li-yue-du-nei-rong/" />
  <meta property="og:image" content="https://hwang.top/images/avatar.png">
  <meta property="og:image:height" content="630">
  <meta property="og:image:width" content="1200">
  <meta name="twitter:title" content="《会读才会写》的读书笔记——利用标签来整理阅读内容 - Hwang&#39;s Blog">
  <meta name="twitter:description" content="
本文以及发布于少数派：https://beta.sspai.com/post/45883

引子
社会科学的写作，一直都有相对固定的「范式」。彭玉生在《“洋八股”与社会科学规范》中将其划分为：问题、文献、假设、测量、数据、方法、分析、结论...">
  <meta name="twitter:card" content="summary_large_image">
  <link rel="canonical" href="https://hwang.top/post/lesslesshui-du-cai-hui-xie-greatergreater-de-du-shu-bi-ji-li-yong-biao-qian-lai-zheng-li-yue-du-nei-rong/">

  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.css">
 
  
    <link rel="stylesheet" href="https://hwang.top/media/css/prism-synthwave84.css">
  

  
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.10.0/katex.min.css">
  
</head>

<body>
  <div class="antialiased flex flex-col min-h-screen" id="app">
    <a href="https://hwang.top" class="fixed top-0 left-0 mt-4 bg-black text-white dark:text-gray-700 dark:bg-yellow-50 dark:hover:bg-black dark:hover:text-white inline-flex p-2 pl-8 hover:text-gray-700 hover:bg-yellow-50 font-bold z-10 transition-fast animated fadeInLeft">
      Hwang&#39;s Blog
    </a>
    <div class="max-w-4xl w-full mx-auto">
      <div class="shadow-box bg-white dark:bg-gray-600 rounded-lg pt-32 md:pt-64 px-4 md:px-8 pb-8 animated fadeIn mb-8">
        <h1 class="text-5xl font-semibold leading-normal pb-8 mb-8 border-b-8 border-gray-700">
          《会读才会写》的读书笔记——利用标签来整理阅读内容
        </h1>
        
        <div class="mb-8 flex flex-wrap">
          <div class="text-gray-400 text-sm mr-4">2018-07-20 · 10 min read</div>
          
            <a href="https://hwang.top/tag/U5JBc5Fg2/" class="text-gray-700 text-sm border-b-2 border-dotted border-gray-200 hover:border-gray-600 transition-all duration-100 inline-flex mr-2">
              <i class="ri-hashtag"></i>
              读书笔记
            </a>
          
            <a href="https://hwang.top/tag/AMJH5xgec/" class="text-gray-700 text-sm border-b-2 border-dotted border-gray-200 hover:border-gray-600 transition-all duration-100 inline-flex mr-2">
              <i class="ri-hashtag"></i>
              少数派
            </a>
          
            <a href="https://hwang.top/tag/CjydnGrXlu/" class="text-gray-700 text-sm border-b-2 border-dotted border-gray-200 hover:border-gray-600 transition-all duration-100 inline-flex mr-2">
              <i class="ri-hashtag"></i>
              长文
            </a>
          
        </div>
        <div class="markdown mb-8" v-pre>
          <blockquote>
<p>本文以及发布于少数派：https://beta.sspai.com/post/45883</p>
</blockquote>
<h2 id="引子">引子</h2>
<p>社会科学的写作，一直都有相对固定的「范式」。彭玉生在《“洋八股”与社会科学规范》中将其划分为：问题、文献、假设、测量、数据、方法、分析、结论。</p>
<figure data-type="image" tabindex="1"><img src="https://ws2.sinaimg.cn/large/006tNc79gy1fptoqgwt8dj31kw13zdqh.jpg" alt="" loading="lazy"></figure>
<p>对于社会科学类专业的学生来说，这些内容应该再熟悉不过了。面对这样泾渭分明的文章结构，需要从何处着手呢？</p>
<p>打表格是多数老师会建议你去做的方式。打表其实是在让你去筛选阅读中的关键信息。这些信息对于某一类文章都是普遍适用的，而如何选择需要的关键信息的类别，师门不同，就会有不同的方式。</p>
<figure data-type="image" tabindex="2"><img src="https://ws3.sinaimg.cn/large/006tNc79gy1fptoqo4iy4j31hg0r6af6.jpg" alt="" loading="lazy"></figure>
<p>《会读才会写》中提供了一个非常有意思的思路——利用「阅读密码」来做文献阅读的技巧，并且基于这些「密码」，来整理你的文献。作为读书笔记，本文会先介绍这本书的关键内容，再结合自身的使用，谈谈适用于日常阅读如何结合书中的方法。</p>
<h2 id="介绍">介绍</h2>
<figure data-type="image" tabindex="3"><img src="https://ws4.sinaimg.cn/large/006tNc79gy1fptp2sqfx0j31260nmdt4.jpg" alt="" loading="lazy"></figure>
<p>本书中的介绍的核心方法，就是添加「阅读密码」的方式，来标记文献的内容。将书中的「阅读密码」，所谓的阅读密码，其实就是将一些常用的标注简化为缩写的字母。将密码理解为「标签」更符合少数派读者的习惯，也更利于将这种方法扩展，所以下文我用标签来代指书中的阅读密码。</p>
<p>关于文献阅读，书中其实总结了两大类标签，首先是基于文献内容的标签，包括了，前言出现的：WTD（ 他们要做什么 ：What They Do ） ；文献综述中出现的：SPL（ 现有文献综述：Summary of Previous Literature ）、CPL（ 现有文献批评 ： Critique of Previous Literature ）、GAP（ 空白：Gap ）、RAT（ 理论依据：Rationale）；研究结果（ 也可能出现在讨论中 ）出现的：ROF（ 研究结果 ：Results of Findings ）；讨论中出现的：RCL（ 与现有文献观点一致的研究发现：Results Consistent with Literature ）、RTC（ 与现有文献观点相反的研究发现 ：Results to The Contrary ）；以及结论中出现的：WTDD（ 他们做了什么：What They Did ）、RFW（ 对未来研究的建议：Recommendations for Future Works ）。</p>
<p>其次是读者需要评注的部分的标签：POC （批评点 ：Point of Critique）、MOP（明显的遗漏点：Missed Obvious Point）、RPP（待探讨的相关问题 ：Relevant Point to Pursue） 、WIL （能否：Will）。书中将这些标签称为阅读策略。</p>
<p>每个标签（密码）对应的更具体含义在下表中给出<sup class="footnote-ref"><a href="#fn1" id="fnref1">[1]</a></sup>：</p>
<p><img src="https://ws2.sinaimg.cn/large/006tNc79gy1fptor2as2xj31ko11ygz2.jpg" alt="" loading="lazy"><br>
<img src="https://ws2.sinaimg.cn/large/006tNc79gy1fptos0w6pbj319o0ign1u.jpg" alt="" loading="lazy"></p>
<p>需要注意的是，所谓「洋八股」的社会科学范式，每个部分所侧重的内容其实各有不同，在实际标注中也没有必要每一句话都要套用一个密码。标注标签的目的对于社会科学的文献研究来说，主要还是为了厘清文章的脉络，理解作者的逻辑，并为后续处理做准备。所以如何打标签，应当着重以目的为导向。书中有表格给出，用以识别文本的功能，表格如下<sup class="footnote-ref"><a href="#fn2" id="fnref2">[2]</a></sup>：</p>
<figure data-type="image" tabindex="4"><img src="https://ws1.sinaimg.cn/large/006tNc79gy1fptp0udaduj31340pejuq.jpg" alt="" loading="lazy"></figure>
<p>现在，知道了这些密码就好像是知道了某张考卷的答案，只知道答案，却不解其缘由，显然是不行。</p>
<p>作者两个维度的分类，其实既满足了文献阅读中划出重点的需求也实现了简单的批注。并且，还一个极大的优势是后期的整理：</p>
<figure data-type="image" tabindex="5"><img src="https://ws1.sinaimg.cn/large/006tNc79gy1fptp18zoddj31go0rq40w.jpg" alt="" loading="lazy"></figure>
<figure data-type="image" tabindex="6"><img src="https://ws1.sinaimg.cn/large/006tNc79gy1fptp1d8syjj31gg0h2tcp.jpg" alt="" loading="lazy"></figure>
<p>通过两个维度的整理，即对文章内容有了梳理，也为后续可能会用到的引用文献做了准备。</p>
<p>书中给出的标签，在我实际使用中的感受是十分适用的。可能是因为自己也是社科类的学生，所以基本上的标签在社科类的文献中都很适用。对于如何学习和习惯这种方法，结合我自己的实际使用，我给出一下几点建议：</p>
<ol>
<li>**按图索骥：**将「阅读密码」打印下来，阅读文献时放在边上做参考。（我是简单粗暴的将书中几页直接撕了下来🌚）</li>
<li><strong>注意完成后的归档。</strong> 文献阅读，有时候是打印出来在纸上看，有时是导入到 Goodnotes 或者 PDF expert 上用 iPad 看。 对于不同的方式，我的做法是，阅读标注完后，都统一归档到印象笔记中，并且打上标签。</li>
<li><strong>整理中找到问题并改进。</strong> 整理文献是每一个从事科研行业都需要做的工作，在前期阅读就已经打好标签的前提下，整理起来会更加方便。但是这其中你也会慢慢发现一些问题，记录这些问题及时修改十分重要。比如我，在一开始用的时候，大多数文章都会有比较多的标记，其实这样反而找不到重点。</li>
</ol>
<p>针对一个问题，每一次密集阅读在整理文献时，反思一下此前的标签体系，做一些修改，这样在后续的使用中就能够更加习惯和自如了。</p>
<h2 id="利用标签整理文章的想法">利用标签整理文章的想法</h2>
<p>除了重点介绍的「阅读密码」，其实书中开始就提到另一套标签。以往每年整理学生的论文，为论文打分都是一件让作者感到头疼的事。因为经常会有人不满于自己的成绩，要与作者理论，这极大的消耗了作者的精力。于是，作者开始使用诸如 AWK（ 变扭：awkward ）、CITE（ 不注明引用：citing ） 、LMG（ 满篇胡言乱语东拉西扯企图蒙混过关：Largely Magnified Generalities ）、JOK（主张稀奇古怪像个笑话：Joke）、TLW（句子过于冗长：Too Long-winded ）等标签，标记学生的文章，指出学生的问题所在，并为每个错误设置扣分值，加之全文的总体感受打上分数。这样做免除了不必要的麻烦的同时节省了宝贵的时间，也帮助学生认识到了自己文章的问题。</p>
<p>作者文中提到的这件事，其实正是验证了通过为文章内容打标签的方式，能够在某些方面实现意想不到的便利。书中提及的上述两套标签，分别帮助作者优雅的解决了文献阅读与文献批改的种种问题。第一套标签，作者利用两个维度设计了用于整理文章内容和用于标记批注类型的两个类型的标签。第二套标签，作者为不同标签赋予权重，为文章打分提供了依据。</p>
<p>对于有相同或者相近需求的学者们来说，上述内容是可以直接参考的。作者在书中通过大段的文本验证了即便是对于哲学研究，本书所设置的标签也是适用的。所以如果从事科学研究，是可以好好看看这本书的。书中其实有较多内容像是作者的碎碎念，如果身在学术共同体，一定会有更深的感受，对于作者的吐槽也会会心一笑。</p>
<p>其实这种方法也能很便捷的融入到自己的阅读体系中。为文章做标记或者高亮（highlight）某一段文字，其实也可以看作是一个标签。这个标签的作用是，提醒自己关注这段文字。这就好像任务管理中的优先级一般，是否高亮其实就是「优先」与「一般」的区别。构建自己的标签（密码）体系，利用诸如 Instapaper、bear、Kindle 等软硬件的标注功能，来为自己阅读流打上标签（密码），实现自己对于阅读摄入的某种需求。</p>
<p>我为自己的日常阅读设计了以下的一些标签，希望能够提供各位参考：</p>
<ul>
<li>eg： 案例。这个标签用来标注一些可能会用到的案例、比喻、观点等等。为自己以后撰文提供参考。简单的说，这是在为自己以后「掉书袋」作准备。</li>
<li>ctu：can’t understand ，不能理解。用来标注一些可能需要去查资料的情况。</li>
<li>ski &amp; tips ：skill、tips 标记一些技巧性的东西，两个标签我都用做一个功能，一些更长的文本，可能标记成skill，一些简短的我就作为tips了。总体来说，自己并没有做特别明显的区分。</li>
<li>tl：即timeline，时间线。阅读一些人物传记、说史类的文章时经常用到。例如最近看的《现代艺术150年》，就频繁使用了「tl」标签。</li>
<li>👉 &amp; —&gt; : 按下不表。即这里提到了，但是先不解释。这个在我阅读张五常的《经济解释》时开始使用，非常有助于理解逻辑。文中经常是提了几个论据，其中一个会按下不表。所以用这个标签先标记，后续回过头来看，就会发现其中可能会存在的问题。</li>
<li>！！！：表示强烈赞同某个观点。</li>
<li>？？？：表示对某个观点强烈的不赞同。（和 「！！！」组成的标签，时常被我回顾🌚，很有意思。）</li>
</ul>
<p>在手机、pad 上的阅读，我一般分两种情况处理。首先是利用 Instapaper 中直接标注法。之后再利用 Workflow 发送到印象笔记，进行归档。<sup class="footnote-ref"><a href="#fn3" id="fnref3">[3]</a></sup> 出现的 Instapaper 中的文章都是经过筛选的，都会有一定的标注的必要。其次是第二种情况，来自诸如 微信公众号、知乎、微博等等地方的文章，我一般的做法是通过发送到 Drafts 标注，再定期处理 Drafts 的 inbox ，发送到印象笔记归档。 Drafts 可以通过 Workflow 、Pin 等等工具实现快速、统一的抓取文字片段，并且添加标注。而在 Kindle 上看时，使用简短的标记，能够实现更为便利的标注体验。标注后再利用 Klib 导出到印象笔记归档即可。</p>
<p>最后，愿本文能够为大家提供有益的参考。</p>
<hr class="footnotes-sep">
<section class="footnotes">
<ol class="footnotes-list">
<li id="fn1" class="footnote-item"><p>见原书前言，表1 。 <a href="#fnref1" class="footnote-backref">↩︎</a></p>
</li>
<li id="fn2" class="footnote-item"><p>见原书第85页，表 7.3 。原表还有一列是用来统计页数的，这里将其略去了。 <a href="#fnref2" class="footnote-backref">↩︎</a></p>
</li>
<li id="fn3" class="footnote-item"><p>workflow 使用的是power+ 中的方法。 <a href="#fnref3" class="footnote-backref">↩︎</a></p>
</li>
</ol>
</section>

        </div>
        <!-- Share to Twitter, Weibo, Telegram -->
        <div class="flex items-center">
          <div class="mr-4 flex items-center">
            <i class="ri-share-forward-line text-gray-500"></i>
          </div>
          <div class="px-4 cursor-pointer text-blue-500 hover:bg-blue-100 dark:hover:bg-gray-600 inline-flex" @click="shareToTwitter">
            <i class="ri-twitter-line"></i>
          </div>
          <div class="px-4 cursor-pointer text-red-500 hover:bg-red-100 dark:hover:bg-gray-600 inline-flex" @click="shareToWeibo">
            <i class="ri-weibo-line"></i>
          </div>
          <div class="px-4 cursor-pointer text-indigo-500 hover:bg-indigo-100 dark:hover:bg-gray-600 inline-flex" @click="shareToTelegram">
            <i class="ri-telegram-line"></i>
          </div>
        </div>
      </div>

      

      
        <div id="vlaine-comment"></div>
      

      <footer class="py-12 text-center px-4 md:px-0" v-pre>
  <p style="text-align: left; color: brown;">
    生而为人，应该能够换尿布、策划入侵、杀猪、开船、造房子、
    写十四行诗、算账、建墙、正骨、抚慰临终之人、接受命令、
    下达命令、合作、独行、解决方程式、分析新问题、
    清理马粪、编程、烹饪美食、高效战斗、英勇牺牲。
    专业分工是给昆虫准备的。
</p>
    <br>
    <br>
    Powered by <a href="https://github.com/getgridea/gridea" target="_blank">Gridea</a>

    <br>
    <p>...</p>
    <br>
    <center> <img
            src="https://img.shields.io/badge/dynamic/json?color=da282a&label=%E5%B0%91%E6%95%B0%E6%B4%BE%E5%85%B3%E6%B3%A8&query=%24.data.totalSubs&url=https%3A%2F%2Fapi.spencerwoo.com%2Fsubstats%2F%3Fsource%3Dsspai%26queryKey%3Dhwang" />
    </center>
</footer>
    </div>

    <!-- TOC Container -->
    <div class="fixed right-0 bottom-0 mb-16 mr-4 shadow w-8 h-8 rounded-full flex justify-center items-center z-10 cursor-pointer bg-white dark:bg-gray-500 dark:text-gray-200 hover:shadow-lg transition-all animated fadeInRight" @click="showToc = true">
      <i class="ri-file-list-line"></i>
    </div>

    <div class="fixed right-0 top-0 bottom-0 overflow-y-auto w-64 bg-white dark:bg-gray-800 p-4 border-l border-gray-100 dark:border-gray-600 z-10 transition-fast" :class="{ '-mr-64': !showToc }">
      <div class="flex mb-4 justify-end">
        <div class="w-8 h-8 inline-flex justify-center items-center rounded-full cursor-pointer hover:bg-gray-200 dark:hover:bg-gray-600 transition-fast" @click="showToc = false">
          <i class="ri-close-line text-lg"></i>
        </div>
      </div>
      <div class="post-toc-container">
        <ul class="markdownIt-TOC">
<li>
<ul>
<li><a href="#%E5%BC%95%E5%AD%90">引子</a></li>
<li><a href="#%E4%BB%8B%E7%BB%8D">介绍</a></li>
<li><a href="#%E5%88%A9%E7%94%A8%E6%A0%87%E7%AD%BE%E6%95%B4%E7%90%86%E6%96%87%E7%AB%A0%E7%9A%84%E6%83%B3%E6%B3%95">利用标签整理文章的想法</a></li>
</ul>
</li>
</ul>

      </div>
    </div>

    <!-- Back to top -->
    <div class="fixed right-0 bottom-0 mb-4 mr-4 shadow w-8 h-8 rounded-full flex justify-center items-center z-10 cursor-pointer bg-white hover:shadow-lg transition-all dark:bg-gray-500 dark:text-gray-200" @click="backToUp" v-show="scrolled">
      <i class="ri-arrow-up-line"></i>
    </div>
  </div>

  <!-- Root element of PhotoSwipe. Must have class pswp. -->
<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">
  <!-- Background of PhotoSwipe. 
        It's a separate element as animating opacity is faster than rgba(). -->
  <div class="pswp__bg">
  </div>
  <!-- Slides wrapper with overflow:hidden. -->
  <div class="pswp__scroll-wrap">
    <!-- Container that holds slides. 
            PhotoSwipe keeps only 3 of them in the DOM to save memory.
            Don't modify these 3 pswp__item elements, data is added later on. -->
    <div class="pswp__container">
      <div class="pswp__item">
      </div>
      <div class="pswp__item">
      </div>
      <div class="pswp__item">
      </div>
    </div>
    <!-- Default (PhotoSwipeUI_Default) interface on top of sliding area. Can be changed. -->
    <div class="pswp__ui pswp__ui--hidden">
      <div class="pswp__top-bar">
        <!--  Controls are self-explanatory. Order can be changed. -->
        <div class="pswp__counter">
        </div>
        <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
        <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
        <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>
        <!-- Preloader demo http://codepen.io/dimsemenov/pen/yyBWoR -->
        <!-- element will get class pswp__preloader--active when preloader is running -->
        <div class="pswp__preloader">
          <div class="pswp__preloader__icn">
            <div class="pswp__preloader__cut">
              <div class="pswp__preloader__donut">
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
        <div class="pswp__share-tooltip">
        </div>
      </div>
      <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
      </button>
      <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
      </button>
      <div class="pswp__caption">
        <div class="pswp__caption__center">
        </div>
      </div>
    </div>
  </div>
</div>

  <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
  <script src="https://hwang.top/media/scripts/main.js"></script>
  
  <!-- Code Highlight -->
  
    <script src="https://hwang.top/media/prism.js"></script>
    <script>
      Prism.highlightAll()
    </script>
  

  <script src="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js"></script>
  <script>
    //拿到预览框架，也就是上面的html代码
    var pswpElement = document.querySelectorAll('.pswp')[0];
    //定义图片数组变量
    var imgitems;
    /**
    * 用于显示预览界面
    * @param index 图片数组下标
    */
    function viewImg(index) {
      //其它选项这里不做过多阐述，详情见官网
      var pswpoptions = {
        index: parseInt(index, 10), // 开始幻灯片索引。0是第一张幻灯片。必须是整数，而不是字符串。
        bgOpacity: 0.7, // 背景透明度，0-1
        maxSpreadZoom: 3, // 缩放级别，不要太大
      };
      //初始化并打开PhotoSwipe，pswpElement对应上面预览框架，PhotoSwipeUI_Default为皮肤，imgitems为图片数组，pswpoptions为选项
      var gallery = new PhotoSwipe(pswpElement, PhotoSwipeUI_Default, imgitems, pswpoptions);
      gallery.init()
    }
    /**
    * 用于添加图片点击事件
    * @param img 图片元素
    * @param index 所属下标（在imgitems中的位置）
    */
    function addImgClick(img, index) {
      img.onclick = function() {
        viewImg(index)
      }
    }
    /**
    * 轮询所有图片，获取src、width、height等数据，加入imgitems，并给图片元素添加事件
    * 最好在onload中执行该方法，本站因放在最底部，所以直接初始化
    * 异步加载图片可在图片元素创建完成后调用此方法
    */
    function initImg() {
      //重置图片数组
      imgitems = [];
      //查找class:markdown 下的所有img元素并遍历
      var imgs = document.querySelectorAll('.markdown img');
      for (var i = 0; i < imgs.length; i++) {
        var img = imgs[i];
        //本站相册初始为loading图片，真实图片放在data-src
        var ds = img.getAttribute("data-src");
        //创建image对象，用于获取图片宽高
        var imgtemp = new Image();
        //判断是否存在data-src
        if (ds != null && ds.length > 0) {
          imgtemp.src = ds
        } else {
          imgtemp.src = img.src
        }
        //判断是否存在缓存
        if (imgtemp.complete) {
          var imgobj = {
            "src": imgtemp.src,
            "w": imgtemp.width,
            "h": imgtemp.height,
          };
          imgitems[i] = imgobj;
          addImgClick(img, i);
        } else {
          console.log('进来了2')
          imgtemp.index = i;
          imgtemp.img = img;
          imgtemp.onload = function() {
            var imgobj = {
              "src": this.src,
              "w": this.width,
              "h": this.height,
            };
            //不要使用push，因为onload前后顺序会不同
            imgitems[this.index] = imgobj
            //添加点击事件
            addImgClick(this.img, this.index);
          }
        }
      }
    }
    //初始化
    initImg();
  </script>
  
    <script type="application/javascript" src="https://unpkg.com/valine"></script>
<script type="application/javascript">
  new Valine({
    el: '#vlaine-comment',
    appId: 'dTgTog99vAEi8ws6LDdFg4iI-gzGzoHsz',
    appKey: 'CnvncVESy4G5mVQRxk1G9Uef',
    pageSize: 10,
    notify: true,
    avatar: 'mp',
    verify: true,
    placeholder: '来都来了，不妨评论一下',
    visitor: true,
    highlight: true,
    recordIP: true,
  })
</script>
  
  
</body>

</html>